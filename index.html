<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ProType - Professional Typing Practice</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Poppins', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        :root {
            --primary: #4361ee;
            --secondary: #3a0ca3;
            --success: #4cc9f0;
            --danger: #f72585;
            --warning: #fca311;
            --light: #f8f9fa;
            --dark: #212529;
            --gray: #6c757d;
            --background: #ffffff;
            --text: #333333;
            --card-bg: #ffffff;
            --header-bg: #4361ee;
            --footer-bg: #3a0ca3;
            --input-bg: #f8f9fa;
            --border-radius: 12px;
            --box-shadow: 0 8px 24px rgba(0, 0, 0, 0.1);
            --transition: all 0.3s ease;
        }

        body {
            background: linear-gradient(135deg, #1a2a6c, #b21f1f, #fdbb2d);
            color: var(--text);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 20px;
            transition: var(--transition);
            overflow-x: hidden;
        }

        .container {
            background: linear-gradient(to bottom, rgba(255,255,255,0.95), rgba(245,245,245,0.98));
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            width: 95%;
            max-width: 900px;
            padding: 40px;
            margin-top: 20px;
            animation: fadeIn 0.8s ease;
            border: 2px solid rgba(255, 255, 255, 0.2);
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        h1 {
            text-align: center;
            color: var(--primary);
            margin-bottom: 25px;
            font-size: 2.8rem;
            font-weight: 700;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.02); }
            100% { transform: scale(1); }
        }

        .difficulty-selector {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .difficulty-btn {
            padding: 12px 25px;
            font-size: 1rem;
            border: 2px solid transparent;
            border-radius: 50px;
            cursor: pointer;
            transition: var(--transition);
            font-weight: 600;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        .difficulty-btn.easy {
            background-color: #2ecc71;
            color: white;
        }

        .difficulty-btn.medium {
            background-color: #f39c12;
            color: white;
        }

        .difficulty-btn.hard {
            background-color: #e74c3c;
            color: white;
        }

        .difficulty-btn.active {
            transform: translateY(-5px);
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
            border: 2px solid white;
            animation: bounce 0.5s;
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(-5px); }
            50% { transform: translateY(-8px); }
        }

        .start-section {
            display: flex;
            justify-content: center;
            margin-bottom: 30px;
        }

        #start-btn {
            padding: 15px 40px;
            font-size: 1.2rem;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            transition: var(--transition);
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
        }

        #start-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
        }

        .text-display {
            background-color: var(--input-bg);
            padding: 30px;
            border-radius: var(--border-radius);
            margin-bottom: 25px;
            font-size: 1.5rem;
            line-height: 1.8;
            min-height: 200px;
            text-align: left;
            box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.08);
            transition: var(--transition);
            position: relative;
            overflow: hidden;
        }

        .text-display::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 5px;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            transform: scaleX(0);
            transform-origin: left;
            transition: transform 0.5s ease;
        }

        .text-display.active::before {
            transform: scaleX(1);
        }

        .current-char {
            background-color: var(--warning);
            color: black;
            padding: 0 4px;
            border-radius: 4px;
            animation: blink 1s infinite;
        }

        @keyframes blink {
            0%, 50% { background-color: var(--warning); }
            51%, 100% { background-color: rgba(252, 163, 17, 0.3); }
        }

        .correct {
            color: var(--success);
        }

        .incorrect {
            color: var(--danger);
            text-decoration: underline;
        }

        .indicator {
            display: flex;
            justify-content: center;
            align-items: center;
            margin-bottom: 25px;
            height: 70px;
            position: relative;
        }

        .light {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background-color: var(--gray);
            margin: 0 15px;
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.5rem;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }

        .light.correct {
            background-color: var(--success);
            box-shadow: 0 4px 16px rgba(76, 201, 240, 0.4);
            animation: pulseLight 0.5s;
        }

        .light.incorrect {
            background-color: var(--danger);
            box-shadow: 0 4px 16px rgba(247, 37, 133, 0.4);
            animation: shake 0.5s;
        }

        @keyframes pulseLight {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
        }

        .stats {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            margin-bottom: 30px;
        }

        .stat {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            padding: 20px;
            border-radius: var(--border-radius);
            text-align: center;
            box-shadow: var(--box-shadow);
            transition: var(--transition);
            animation: slideUp 0.5s ease;
        }

        .stat:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 20px rgba(0, 0, 0, 0.15);
        }

        @keyframes slideUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .stat-value {
            font-size: 2.2rem;
            font-weight: 700;
            margin-bottom: 5px;
        }

        .stat-label {
            font-size: 0.9rem;
            opacity: 0.9;
        }

        .controls {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 30px;
            flex-wrap: wrap;
        }

        button {
            padding: 15px 30px;
            font-size: 1.1rem;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            transition: var(--transition);
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        #new-text-btn {
            background: linear-gradient(135deg, var(--success), #2ecc71);
            color: white;
        }

        #new-text-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
        }

        .inactivity-alert {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background-color: var(--danger);
            color: white;
            padding: 15px 25px;
            border-radius: 50px;
            box-shadow: 0 4px 16px rgba(247, 37, 133, 0.4);
            display: none;
            align-items: center;
            gap: 10px;
            z-index: 100;
            animation: slideInUp 0.5s ease;
        }

        @keyframes slideInUp {
            from { opacity: 0; transform: translate(-50%, 20px); }
            to { opacity: 1; transform: translate(-50%, 0); }
        }

        .instructions {
            margin-top: 40px;
            background: linear-gradient(135deg, #f8f9fa, #e9ecef);
            padding: 25px;
            border-radius: var(--border-radius);
            font-size: 1rem;
            text-align: left;
            box-shadow: var(--box-shadow);
            animation: fadeIn 1s ease;
        }

        .instructions h3 {
            margin-bottom: 15px;
            color: var(--primary);
            font-size: 1.4rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .instructions ul {
            padding-left: 20px;
        }

        .instructions li {
            margin-bottom: 10px;
            line-height: 1.6;
        }

        @media (max-width: 768px) {
            .container {
                width: 95%;
                padding: 25px;
            }
            
            h1 {
                font-size: 2.2rem;
            }
            
            .text-display {
                font-size: 1.3rem;
                padding: 20px;
            }
            
            .stats {
                grid-template-columns: 1fr;
            }
            
            .difficulty-selector {
                flex-direction: column;
                align-items: center;
            }
            
            .difficulty-btn {
                width: 100%;
                max-width: 250px;
            }
            
            button {
                width: 100%;
                justify-content: center;
            }
        }

        .progress-bar {
            height: 8px;
            background-color: var(--input-bg);
            border-radius: 4px;
            overflow: hidden;
            margin: 20px 0;
            box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.1);
        }

        .progress {
            height: 100%;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            width: 0%;
            transition: width 0.3s ease;
            border-radius: 4px;
        }

        .start-info {
            text-align: center;
            margin-bottom: 20px;
            color: var(--primary);
            font-weight: 500;
            animation: pulse 2s infinite;
        }

        .hidden {
            display: none;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1><i class="fas fa-keyboard"></i> Shouib ProType Master</h1>
        
        <div class="difficulty-selector">
            <button class="difficulty-btn easy active" data-difficulty="easy">
                <i class="fas fa-leaf"></i> Easy
            </button>
            <button class="difficulty-btn medium" data-difficulty="medium">
                <i class="fas fa-fire"></i> Medium
            </button>
            <button class="difficulty-btn hard" data-difficulty="hard">
                <i class="fas fa-mountain"></i> Hard
            </button>
        </div>
        
        <div class="start-section">
            <button id="start-btn">
                <i class="fas fa-play"></i> Start Typing
            </button>
        </div>
        
        <div class="start-info" id="start-info">
            Select a difficulty level and click "Start Typing" to begin practice.
        </div>
        
        <div class="text-display" id="text-display">
            Select a difficulty level and click "Start Typing" to begin practice.
        </div>
        
        <div class="progress-bar">
            <div class="progress" id="progress-bar"></div>
        </div>
        
        <div class="indicator">
            <div class="light" id="status-light">
                <i class="fas fa-keyboard"></i>
            </div>
        </div>
        
        <div class="stats">
            <div class="stat">
                <div class="stat-value" id="wpm">0</div>
                <div class="stat-label">Words Per Minute</div>
            </div>
            <div class="stat">
                <div class="stat-value" id="accuracy">100%</div>
                <div class="stat-label">Accuracy</div>
            </div>
            <div class="stat">
                <div class="stat-value" id="timer">0:00</div>
                <div class="stat-label">Time</div>
            </div>
        </div>
        
        <div class="controls">
            <button id="new-text-btn" class="hidden">
                <i class="fas fa-sync"></i> New Text
            </button>
        </div>
        
        <div class="instructions">
            <h3><i class="fas fa-info-circle"></i> Instructions</h3>
            <ul>
                <li>Select your difficulty level (Easy, Medium, Hard)</li>
                <li>Click "Start Typing" to prepare for typing</li>
                <li>The timer will begin with your first keypress</li>
                <li>Green light indicates correct typing</li>
                <li>Red light indicates incorrect typing</li>
                <li>If you make two consecutive errors, you cannot proceed further</li>
                <li>Typing will automatically pause after 5 seconds of inactivity</li>
                <li>Practice regularly to improve your typing speed and accuracy</li>
            </ul>
        </div>
    </div>

    <div class="inactivity-alert" id="inactivity-alert">
        <i class="fas fa-clock"></i> Typing paused due to inactivity
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const textDisplay = document.getElementById('text-display');
            const startBtn = document.getElementById('start-btn');
            const newTextBtn = document.getElementById('new-text-btn');
            const statusLight = document.getElementById('status-light');
            const accuracyDisplay = document.getElementById('accuracy');
            const wpmDisplay = document.getElementById('wpm');
            const timerDisplay = document.getElementById('timer');
            const difficultyButtons = document.querySelectorAll('.difficulty-btn');
            const progressBar = document.getElementById('progress-bar');
            const inactivityAlert = document.getElementById('inactivity-alert');
            const startInfo = document.getElementById('start-info');
            
            // Sentences that cover all letters and punctuation
            const sentences = {
                easy: [
                    "The quick brown fox jumps over the lazy dog.",
                    "Pack my box with five dozen liquor jugs.",
                    "How quickly daft jumping zebras vex!",
                    "Sphinx of black quartz, judge my vow.",
                    "Waltz, bad nymph, for quick jigs vex."
                ],
                medium: [
                    "The five boxing wizards jump quickly; a truly amazing feat of agility and strength!",
                    "Jaded zombies acted quaintly but kept driving their oxen forward; what a peculiar sight!",
                    "When zombies arrive, quickly fax Judge Pat; we need immediate legal protection!",
                    "Big fjords vex quick waltz nymph: such is the complexity of linguistic puzzles.",
                    "Glib jocks quiz nymph to vex dwarf: a simple yet effective strategy in word games."
                ],
                hard: [
                    "The quick, brown fox jumps over a lazy dog. DJs flock by when MTV ax quiz prog. Junk MTV quiz graced by fox whelps. Bawds jog, flick quartz, vex nymphs.",
                    "Waltz, bad nymph, for quick jigs vex! Fox nymphs grab quick-jived waltz. Brick quiz whangs jumpy veldt fox. Bright vixens jump; dozy fowl quack.",
                    "Quick wafting zephyrs vex bold Jim. Quick zephyrs blow, vexing daft Jim. Sex-charged fop blew my junk TV quiz. How quickly daft jumping zebras vex.",
                    "Two driven jocks help fax my big quiz. Quick, Baz, get my woven flax jodhpurs! Now fax quiz Jack! my brave ghost pled. Five quacking zephyrs jolt my wax bed.",
                    "The jay, pig, fox, zebra, and my wolves quack! Blowzy red vixens fight for a quick jump. Joaquin Phoenix was gazed by MTV for luck. A wizard's job is to vex chumps quickly in fog."
                ]
            };
            
            let currentText = '';
            let currentIndex = 0;
            let correctCount = 0;
            let incorrectCount = 0;
            let startTime;
            let timerInterval;
            let inactivityTimer;
            let isReady = false;
            let isStarted = false;
            let currentDifficulty = 'easy';
            let consecutiveErrors = 0;
            
            // Set difficulty
            difficultyButtons.forEach(btn => {
                btn.addEventListener('click', function() {
                    difficultyButtons.forEach(b => b.classList.remove('active'));
                    this.classList.add('active');
                    currentDifficulty = this.dataset.difficulty;
                    resetTest();
                });
            });
            
            // Load new text based on difficulty
            function loadNewText() {
                const texts = sentences[currentDifficulty];
                const randomIndex = Math.floor(Math.random() * texts.length);
                currentText = texts[randomIndex];
                
                textDisplay.innerHTML = currentText.split('').map(char => {
                    return `<span>${char}</span>`;
                }).join('');
                
                // Highlight first character
                const firstChar = textDisplay.querySelector('span');
                if (firstChar) {
                    firstChar.classList.add('current-char');
                }
            }
            
            // Reset test
            function resetTest() {
                loadNewText();
                
                // Reset state
                currentIndex = 0;
                correctCount = 0;
                incorrectCount = 0;
                isReady = false;
                isStarted = false;
                consecutiveErrors = 0;
                textDisplay.classList.remove('active');
                
                // Reset stats
                accuracyDisplay.textContent = '100%';
                wpmDisplay.textContent = '0';
                timerDisplay.textContent = '0:00';
                statusLight.className = 'light';
                progressBar.style.width = '0%';
                
                // Update buttons
                startBtn.classList.remove('hidden');
                newTextBtn.classList.add('hidden');
                startBtn.innerHTML = '<i class="fas fa-play"></i> Start Typing';
                startInfo.textContent = 'Select a difficulty level and click "Start Typing" to begin practice.';
                
                // Clear any existing timers
                clearInterval(timerInterval);
                clearTimeout(inactivityTimer);
                
                // Hide inactivity alert
                inactivityAlert.style.display = 'none';
                
                // Remove event listeners
                window.removeEventListener('keydown', handleKeyDown);
            }
            
            // Prepare for typing
            function prepareTyping() {
                isReady = true;
                textDisplay.classList.add('active');
                startBtn.innerHTML = '<i class="fas fa-keyboard"></i> Ready';
                startInfo.textContent = 'Start typing! The timer will begin with your first keypress.';
                
                // Add event listener for key presses
                window.addEventListener('keydown', handleKeyDown);
            }
            
            // Start typing with first keypress
            function startTyping() {
                if (!isStarted && isReady) {
                    isStarted = true;
                    startTimer();
                    resetInactivityTimer();
                    startBtn.classList.add('hidden');
                    newTextBtn.classList.remove('hidden');
                    startInfo.textContent = 'Typing in progress...';
                }
            }
            
            // Reset inactivity timer
            function resetInactivityTimer() {
                clearTimeout(inactivityTimer);
                inactivityTimer = setTimeout(pauseDueToInactivity, 5000); // 5 seconds
            }
            
            // Pause due to inactivity
            function pauseDueToInactivity() {
                if (isStarted) {
                    isStarted = false;
                    clearInterval(timerInterval);
                    statusLight.className = 'light';
                    
                    // Show inactivity alert
                    inactivityAlert.style.display = 'flex';
                    setTimeout(() => {
                        inactivityAlert.style.display = 'none';
                    }, 3000);
                }
            }
            
            // Handle key press
            function handleKeyDown(e) {
                if (!isReady) return;
                
                // Start timer on first keypress
                if (!isStarted) {
                    startTyping();
                }
                
                // Reset inactivity timer on key press
                resetInactivityTimer();
                
                // Prevent default action for all keys except Tab and Escape
                if (e.key !== 'Tab' && e.key !== 'Escape') {
                    e.preventDefault();
                }
                
                const expectedChar = currentText[currentIndex];
                const charSpans = textDisplay.querySelectorAll('span');
                
                if (e.key === expectedChar) {
                    // Correct typing
                    handleCorrectKey();
                } else {
                    // Incorrect typing
                    handleIncorrectKey();
                }
            }
            
            function handleCorrectKey() {
                const charSpans = textDisplay.querySelectorAll('span');
                
                charSpans[currentIndex].classList.add('correct');
                charSpans[currentIndex].classList.remove('current-char', 'incorrect');
                correctCount++;
                consecutiveErrors = 0;
                statusLight.className = 'light correct';
                
                // Move to next character
                currentIndex++;
                
                // Update progress bar
                progressBar.style.width = `${(currentIndex / currentText.length) * 100}%`;
                
                // Update accuracy
                updateAccuracy();
                
                // Highlight next character
                if (currentIndex < charSpans.length) {
                    charSpans[currentIndex].classList.add('current-char');
                } else {
                    // Finished typing
                    finishTyping();
                }
            }
            
            function handleIncorrectKey() {
                const charSpans = textDisplay.querySelectorAll('span');
                
                charSpans[currentIndex].classList.add('incorrect');
                incorrectCount++;
                consecutiveErrors++;
                statusLight.className = 'light incorrect';
                
                // Update accuracy
                updateAccuracy();
                
                // If two consecutive errors, prevent further typing until corrected
                if (consecutiveErrors >= 2) {
                    statusLight.innerHTML = '<i class="fas fa-exclamation-triangle"></i>';
                }
            }
            
            // Update accuracy
            function updateAccuracy() {
                const totalTyped = correctCount + incorrectCount;
                if (totalTyped === 0) {
                    accuracyDisplay.textContent = '100%';
                } else {
                    const accuracy = Math.round((correctCount / totalTyped) * 100);
                    accuracyDisplay.textContent = `${accuracy}%`;
                }
            }
            
            // Start timer
            function startTimer() {
                startTime = new Date();
                timerInterval = setInterval(updateTimer, 1000);
            }
            
            // Update timer
            function updateTimer() {
                const currentTime = new Date();
                const elapsedTime = Math.floor((currentTime - startTime) / 1000);
                const minutes = Math.floor(elapsedTime / 60);
                const seconds = elapsedTime % 60;
                timerDisplay.textContent = `${minutes}:${seconds < 10 ? '0' : ''}${seconds}`;
                
                // Calculate WPM (assuming 5 characters per word)
                if (correctCount > 0) {
                    const words = correctCount / 5;
                    const minutesPassed = elapsedTime / 60;
                    const wpm = Math.round(words / minutesPassed);
                    wpmDisplay.textContent = wpm;
                }
            }
            
            // Finish typing
            function finishTyping() {
                clearInterval(timerInterval);
                clearTimeout(inactivityTimer);
                isStarted = false;
                isReady = false;
                window.removeEventListener('keydown', handleKeyDown);
                statusLight.className = 'light';
                textDisplay.classList.remove('active');
                startInfo.textContent = 'Practice completed! Click "New Text" to try again.';
            }
            
            // Event listeners
            startBtn.addEventListener('click', prepareTyping);
            newTextBtn.addEventListener('click', resetTest);
            
            // Initialize with first text
            resetTest();
        });
    </script>
</body>
</html>
